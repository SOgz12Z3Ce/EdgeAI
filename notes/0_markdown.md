# Markdown

## 语法

### Markdown 简介

Markdown 语言是门简洁的语言，它存在的目的就是提供一个好看又不负责的排版，并且让纯文本也看得过去。熟悉 HTML 的人肯定也会熟悉 Markdown，所以我会把 Markdown 分为块级和行内元素来记录。

Markdown 本身很简单，也许过于简单了，所以很多编辑器提供自己的扩展，带扩展的 Markdown 被称为 Markdown 的**方言**。有些方言很流行，比如 [GitHub Flavored Markdown](https://github.github.com/gfm/#what-is-github-flavored-markdown-)。方言中常见的语法也被记录。

### 块级元素

#### 标题

```markdown
# 标题
## 二级标题
## 二级标题 {#custom-id}

另一种一级标题
==============

另一种二级标题
--------------
```

##### 语法

标题的语法是 1 ~ 6 个 `#` 后加空格与标题文本。不同的 `#` 数量对应不同等级的标题，例如 `## 标题文本` 表示了一个二级标题。此外，在一段文本的下一行紧随*任意数量*的 `=` 与 `-` 也可表示一级标题与二级标题。

##### 锚点

标题有锚点，允许[链接](#链接)指向对应标题处。锚点默认是标题文本的烤串命名法（kebab-case）。

有些方言允许使用 `{#...}` 自定义锚点。

#### 段落

```markdown
这是一个段落

段落的分段应该使用空行  
或者在末尾添加两个空格

也可以使用反斜杠符\
来分隔不同的段落们
```

##### 语法

段落没有特别的语法，不加修饰的文字就是段落。结束段落需要尾随两个空格（` `）或反斜杠（`\`）。

#### LaTeX 块

```markdown
$$
\LaTeX
$$
```

##### 语法

\LaTeX 公式块需要用 `$$` 包裹。\LaTeX 是用于书写公式的标记语言，它通过 `\` 开头加上名称所组成的“控制序列”以及以 `{}` 包裹的“组”为单位标记文本，形成类似于函数的单位来表示数学公式。

#### 代码块

````markdown
    print("Hello, world!")

```python
    print("Hello, world!")
```
````

##### 语法

代码块的语法是在所有代码文本前加一个额外的缩进[^markdown_indent]。

某些方言允许使用三个 `` ` `` 包裹代码文本，并在开头末尾注明代码使用的语言。编译器可能可以提供对应的语法高亮，所以第二种格式在可用时是推荐的。

[^markdown_indent]: Markdown 认为缩进是一个 `Tab` 或者四个空格。

##### 逃逸

与[行内代码](#行内代码)类似，在代码块中使用 `` ` `` 的方法是加长两端的 `` ` ``。例如此段的样例是这样实现的：

`````markdown
````markdown
    print("Hello, world!")

```python
    print("Hello, world!")
```
````
`````

##### 注意事项

如果代码块位于[有序列表](#有序列表)或[无序列表](#无序列表)之间，则需要注意缩进关系：列表项后带对应层级缩进的[段落](#段落)会被认为是列表的一部分，经典写法下的代码块本身需要一个缩进，此时使用代码块也需要对应数量的额外缩进，例如下面展示了正确与错误的代码块用法：

```markdown
- 无序列表
- 无序列表

        print("Hello, world!")

- 无序列表
```

- 无序列表
- 无序列表

        print("Hello, world!")

- 无序列表

---

```markdown
- 无序列表
- 无序列表

    print("Hello, world!")

- 无序列表
```

- 无序列表
- 无序列表

    print("Hello, world!")

- 无序列表

#### 有序列表

```markdown
1. 列表
2. 列表
3. 列表
    1. 列表
```

##### 语法

有序列表的语法是`数字. 列表项`。前面的数字只有第一项是有意义的，后面的数字都会被忽略并按顺序自动填充，不过，这些序号最好还是从 1 开始按顺序填写。

#### 无序列表

```markdown
- 列表
- 列表
- 列表
    - 列表
```

##### 无序列表

无序列表的语法是 `-` `+` `*` 之一后加空格与列表项。最好只使用一种符号。

#### 表格

```markdown
| first column | second column |
| ------------ | ------------- |
| first line   | first line    |
| second line  | second line   |
```

##### 语法

表格的语法就是使用 `|` 和 `-` 画一个表格出来。表格头的 `-` 其实是不需要完全对齐的，但是为了美观还是一般对齐。

#### 图片

```markdown
![CC Logo](./CC-logo.svg)
```

##### 语法

图片的语法是 `![替代文本](/path/to/image.png)` 。替代文本会作为 `<image>` 的 `alt` 属性使用，是图片的说明，当图片无法加载或屏幕朗读器处理此处时，就会使用替换文本。

##### 注意事项

这种图片无法调整大小，如果需要可调整大小的图像，可以直接使用 HTML 标签。

#### 引言

```markdown
> 知识就是力量，法国就是培根。
>
>> 这句话不是我说的
```

##### 语法

引言的语法是在引用文本[段落](#段落)前添加 `>`。可以嵌套使用。

##### 注意事项

类似于段落，嵌套使用引言时，在不同层级的引言前后需要带 `>` 的空行。

#### 分隔线

分隔线的语法是三个或更多 `-` 或 `*`。

##### 注意事项

以 `-` 组成的分隔线不应直接置于文本下方，那是[标题](#h)的语法。

#### 行内元素

#### 强调与着重

```markdown
*强调*、**着重**、***着重并强调***
```

##### 语法

强调和着重都使用 `*` 或 `_`，只是数量上的区别。两者可以同时起效，只需要使用三个符号就行。[^markdown_wikitext_star]可以，但不应当混搭符号。

##### 逃逸

与其他大部分符号相同，要使用星号本身时，可以加斜杠：`\*`。

[^markdown_wikitext_star]: 吐槽：Wikitext 中也有类似的语法，不过字符数量从 1 个与 2 个变成了 2 个与 3 个，同时使用时需要打一长串 `*`……

#### 行内代码

```markdown
绝对不要使用 `sudo rm -rf /`！
```

##### 语法

行内代码的语法是`` `代码文本` ``。行内代码连用时之间应该至少有一个空格。

##### 逃逸

类似[代码块](#代码块)，要在代码块中使用 `` ` `` 字符本身，需要延长两端的 `` ` `` 长度。

#### 链接

```markdown
[谷歌](https://google.com)
[第一段](#p1)
[预定义的链接][1]

[1]: https://www.github.com 说明文本
```

##### 语法

链接的语法是 `[文本](链接)`，括号中的部分在 HTML 下会被用于 `<a>` 的 `herf` 属性，所以可以是 URL、锚点、JavaScrip 脚本等等。

链接也可以被定义在其他位置，并使用方括号来引用。

##### 注意事项

输入 URL 时，必须**写全**，前面的协议名 `https://` 是不可以省略的。

#### 引用与脚注

```markdown
文本[^footnote]

[^footnote]: 脚注
```

##### 语法

使用 `[^脚注名称]: 脚注内容`可以定义一个脚注，再在正文中使用 `[^footnote]` 即可引用它。

#### 行内 LaTeX

```markdown
$\LaTeX$ 必须被排版为给定的形式，除非技术限制，此时应该写为 LaTeX。
```

##### 语法

不同的方言中使用的语法不是很统一，pandoc 可以直接使用，但有些编辑器需要包裹在 `$` 符号中。

## 特性

这里记录一些值得注意的特性。

### 块级元素间的空行

在 Markdown 中，两个[块级元素](#块级元素)之间有时候需要隔至少一个空行，例如这样做是不行的：

```markdown
……这里是一段的结束。
---
上面的分割线会导致意外的结果。
```

但有时候其实又没问题：

```markdown
# 一级标题
## 二级标题
## 另一个二级标题
### 三级标题
```

这很烦，所以我会在所有块级元素间一律加一个空行。

可能是因为发明者来自美国，Markdown 的段落与段落间也必须[^markdonw_declare_0]要隔一个空行，且不能在前面加缩进。这种样式在英文文本下看起来不错，但对于习惯带缩进的中文文本的我们来说可能是个挑战。[^markdown_wikitext_p]

[^markdonw_declare_0]: 在行末添加两个空格的缺点过于显而易见，不谈。
[^markdown_wikitext_p]: 吐槽：Wikitext 作为和 Markdown 很相似的语言，也有一样的特性，也许应该适应空行分隔的段落。
